"use strict";(self.webpackChunklegacy=self.webpackChunklegacy||[]).push([[804],{8298:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5671),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(3144),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1539),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4747),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4916),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5306),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7327),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_number_parse_float_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1874),core_js_modules_es_number_parse_float_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_number_parse_float_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9653),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_number_parse_int_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9494),core_js_modules_es_number_parse_int_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_number_parse_int_js__WEBPACK_IMPORTED_MODULE_7__),vanilla_lazyload__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2732),vanilla_lazyload__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(vanilla_lazyload__WEBPACK_IMPORTED_MODULE_8__),in_view__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5440),in_view__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(in_view__WEBPACK_IMPORTED_MODULE_9__),flickity__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2442),flickity__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_10__),gsap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6358),gsap_ScrollTrigger__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(9092),pixi_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(311),locomotive_scroll__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6267),modularload__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1808),axios__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9669),axios__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_13__),cookies_eu_banner__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(6473),cookies_eu_banner__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(cookies_eu_banner__WEBPACK_IMPORTED_MODULE_14__),gsap_CustomEase__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2067),HTML=document.querySelector("html");gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.registerPlugin(gsap_ScrollTrigger__WEBPACK_IMPORTED_MODULE_16__.Z,gsap_CustomEase__WEBPACK_IMPORTED_MODULE_17__.t);var App=function(){function App(){var _this=this;(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_18__.Z)(this,App),this.lazyload=new(vanilla_lazyload__WEBPACK_IMPORTED_MODULE_8___default())({unobserve_entered:!0,elements_selector:".js-lazy",threshold:.8*window.innerHeight,callback_enter:function(e){if(e.classList.contains("js-lazy-error-placeholder"))e.lazyLoadPlaceholder=e.src;else if(void 0===e.dataset.src){var t=e.closest("figure");t&&t.classList.add("img-is-loaded")}},callback_loaded:function(e){var t=e.closest("figure");t&&t.classList.add("img-is-loaded"),_this.scroll&&_this.scroll.update()},callback_error:function(e){e.lazyLoadPlaceholder&&(e.src=e.lazyLoadPlaceholder)}});var toggle=document.querySelector(".toggle-menu");toggle&&toggle.addEventListener("click",(function(e){e.preventDefault(),HTML.classList.toggle("open-menu")})),this.currentLink=null,"undefined"!=typeof cookie&&void 0!==cookie.code&&new(cookies_eu_banner__WEBPACK_IMPORTED_MODULE_14___default())((function(){eval(cookie.code)}),!0);var tlLoader=gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.timeline({paused:!0,onComplete:function(){_this.load(),_this.mount()}}),loader=document.querySelector(".loader");if(loader){var inner=loader.querySelector(".inner");gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(inner,{duration:.3,autoAlpha:1}),tlLoader.to(loader.querySelector(".progress"),{duration:2,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",ease:gsap_CustomEase__WEBPACK_IMPORTED_MODULE_17__.t.create("custom","M0,0 C0.25,0 0.237,0.053 0.278,0.08 0.371,0.14 0.286,0.5 0.5,0.5 0.7,0.526 0.632,0.88 0.686,0.928 0.725,0.962 0.698,1 1,1 ")}).to(inner,{duration:.4,ease:"circ.in",scale:2,autoAlpha:0},"-=0.4").to(loader,{autoAlpha:0,duration:.3},"-=0.1"),window.addEventListener("is-loaded",(function(){tlLoader.play()}))}else window.addEventListener("is-loaded",(function(){_this.load(),_this.mount()}))}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_19__.Z)(App,[{key:"mount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;this.allLinks(),this.home(e),this.player(),this.glitch(),this.textareaResize(),this.gallery(),this.galleryVideo(),this.freescroll(),this.works(),this.parallaxMouseMove(),this.inViewport(),this.smoothScroll()}},{key:"unmount",value:function(){this.scroll.destroy(),window.dispatchEvent(new Event("unmount"))}},{key:"allLinks",value:function(){var e=this,t=document.querySelectorAll('a:not([href*="#"]):not([target="_blank"])');t&&t.forEach((function(t){t.addEventListener("click",(function(){return e.currentLink=t}))}))}},{key:"load",value:function(){var e=this;this.load=new modularload__WEBPACK_IMPORTED_MODULE_20__.Z({enterDelay:0,exitDelay:300,transitions:{work:{enterDelay:0,exitDelay:13e5}}}),this.load.on("loading",(function(t,_){e.unmount(),HTML.classList.add("no-event"),"work"==t||gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(_,{duration:.3,autoAlpha:0,onComplete:function(){}})})),this.load.on("loaded",(function(t,_,r){HTML.classList.remove("no-scroll","no-event"),e.lazyload.update(),"undefined"!=typeof gtag&&gtag("event","page_view",{page_title:document.title,page_location:location.href,page_path:location.pathname});var o=r.querySelector(".wpcf7 form");if(o&&wpcf7.init(o),"work"==t)if(flickity__WEBPACK_IMPORTED_MODULE_10___default().data(_.querySelector(".freescroll"))){gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(_,{position:"absolute",top:0,left:0,height:"auto",width:"100%"});var a=_.querySelector(".works"),n=e.currentLink.closest(".item"),i=null;if(n&&(i=n.querySelector("figure .img-main .thumb"))){n.classList.add("active"),n.parentElement.classList.add("active"),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(n.querySelectorAll(".info > *, .item-title, .img-secondary"),{autoAlpha:0,duration:.3,y:"2rem",stagger:.05});var l=i.cloneNode(!0);l.style.display="none",_.append(l),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(a.querySelectorAll(".filter, .item-parent:not(.active), .word-bg, .counter"),{autoAlpha:0,duration:.3,onComplete:function(){_.querySelector(".freescroll").getBoundingClientRect();var t=i.getBoundingClientRect();i.remove(),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(l,{position:"fixed",width:t.width,transform:"none",height:t.height,display:"block",top:t.y,left:t.x}),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(l,{duration:.8,ease:"circ.inOut",left:0,top:0,width:window.innerWidth,height:window.innerHeight,onComplete:function(){e.mount(r),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(_,{duration:.3,autoAlpha:0,onComplete:function(){HTML.classList.remove("no-event","no-scroll")}})}})}})}}else gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(_,{autoAlpha:0,duration:.3,onComplete:function(){_&&gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(_,{overflow:"hidden",height:0,position:"absolute",top:0,left:0})}}),HTML.classList.remove("no-scroll","no-event"),e.mount(r),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.fromTo(r,{autoAlpha:0},{autoAlpha:1,duration:.3});else HTML.classList.remove("no-event","no-scroll"),e.mount(r),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.fromTo(r,{autoAlpha:0},{autoAlpha:1,duration:.3})}))}},{key:"smoothScroll",value:function(){var e=this;if(this.scroll=new locomotive_scroll__WEBPACK_IMPORTED_MODULE_12__.ZP({el:document.querySelector("[data-scroll-container]"),offset:["15%",0],smooth:!0,getDirection:!0}),""!=window.location.hash&&document.querySelector(window.location.hash)){var t=document.querySelector(window.location.hash);this.scroll.scrollTo(t,{offset:-100})}else this.scroll.scrollTo(0);var _=document.querySelectorAll("a[href*='#']");_&&_.forEach((function(t){t.addEventListener("click",(function(_){if("#"==t.getAttribute("href"))return!1;var r=document.querySelector(t.getAttribute("href").replace("/#","#"));r&&(_.preventDefault(),e.scroll.scrollTo(r,{offset:-100}))}))}))}},{key:"home",value:function(e){var t=e.querySelectorAll(".home-slider");t&&t.length>0&&(HTML.classList.add("no-scroll"),t.forEach((function(e){var t=new pixi_js__WEBPACK_IMPORTED_MODULE_11__.aNw;t.add("filter","/wp-content/themes/nc/static/img/clouds.jpg"),t.load((function(t,_){var r=e.querySelectorAll(".item"),o=e.querySelector(".canvas"),a=e.offsetWidth,n=e.offsetHeight,i=-1,l=new pixi_js__WEBPACK_IMPORTED_MODULE_11__.MxU({view:o.querySelector("canvas"),width:a,height:n,antialias:!1,backgroundAlpha:!0,resolution:window.devicePixelRatio,resizeTo:window}),s=new pixi_js__WEBPACK_IMPORTED_MODULE_11__.W20;s.width=a,s.height=n,l.stage.addChild(s),window.addEventListener("resize",(function(){a=e.offsetWidth,n=e.offsetHeight,g(i)}));var c=[],u=new pixi_js__WEBPACK_IMPORTED_MODULE_11__.jyi;u.alpha=0,s.addChild(u);var d=o.querySelectorAll("video");d&&d.forEach((function(e){var t=pixi_js__WEBPACK_IMPORTED_MODULE_11__.xEZ.from(e.src);t.baseTexture.resource.source.loop=!0,t.baseTexture.resource.source.muted=!0,t.baseTexture.resource.source.playsinline=!0,c.push(t)}));var E=new pixi_js__WEBPACK_IMPORTED_MODULE_11__.jyi.from(_.filter.texture),p=_.filter.texture.orig.width,f=_.filter.texture.orig.height,v=new pixi_js__WEBPACK_IMPORTED_MODULE_11__.u8d.DisplacementFilter(E);v.scale.x=500,v.scale.y=500,v.autoFit=!0;var h=a/p>n/f?a/p:n/f,P=h*p,M=h*f;function D(t){if(i>=0){var _=c[i];gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(r[i],{duration:.5,autoAlpha:0}),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(v.scale,{duration:.8,x:500,y:500,ease:"power2.out",onComplete:function(){_.baseTexture.resource.source.pause(),L(t)}})}else L(t);var o=e.querySelector(".counter .val");o&&(o.innerHTML=t+1),i=t}function L(t){g(t),c[t].baseTexture.resource.source.play(),u.texture=c[t],gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(r[t],{autoAlpha:1}),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.fromTo(r[t].querySelectorAll(".info > *"),{autoAlpha:0,y:"4rem"},{stagger:.15,y:"0rem",autoAlpha:1,ease:"expo.out",duration:1.2}),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.fromTo(r[t].querySelector(".letter"),{autoAlpha:0,right:"-2rem"},{right:"0%",autoAlpha:.3,ease:"expo.out",duration:1.2,delay:.4}),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(u,{duration:.6,alpha:1,ease:"power2.out"}),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(v.scale,{duration:.8,x:0,y:0,ease:"power2.out",onComplete:function(){e.addEventListener("wheel",w,{passive:!1})}})}function g(e){var t=Number.parseFloat(d[e].dataset.width),_=Number.parseFloat(d[e].dataset.height),r=a/t,o=n/_,i=r>o?r:o,l=i*t,s=i*_;u.width=l,u.height=s,u.x=(l-a)/-2,u.y=(s-n)/-2}E.width=P,E.height=M,E.x=(P-a)/-2,E.y=(M-n)/-2,l.stage.addChild(E),l.stage.filters=[v];var m=0,O=0;function w(t){t.preventDefault(),e.removeEventListener("wheel",w,{passive:!1});var _=i<=0?c.length-1:i-1;t.deltaY>0&&(_=i>=c.length-1?0:i+1),D(_)}e.addEventListener("touchstart",(function(e){m=e.touches[0].clientY}),!1),e.addEventListener("touchend",(function(t){if(O=t.changedTouches[0].clientY,Math.abs(O-m)<=50)return!1;var _=new Event("wheel");O<m&&(_.deltaY=1),O>m&&(_.deltaY=-1),e.dispatchEvent(_)}),!1);var y=e.querySelectorAll(".nav");y&&y.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),D(i>=c.length-1?0:i+1)}))})),D(0)}))})))}},{key:"glitch",value:function(){var e=document.querySelectorAll(".main-header a, .glitch"),t=document.querySelector(".hover-filter");e.forEach((function(e,_){var r="hover-filter-".concat(_),o=t.cloneNode(!0),a=o.querySelector("filter");a.setAttribute("id",r);var n=a.querySelector("feDisplacementMap");e.append(o),e.style.filter="url(#".concat(r,")"),e.addEventListener("mouseenter",(function(){var e,t;gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.fromTo(n.scale,{baseVal:(e=60,t=120,Math.floor(Math.random()*(t-e+1)+e))},{ease:"expo.out",baseVal:0,duration:1})}))}))}},{key:"parallaxMouseMove",value:function(){var e=document.querySelectorAll("[data-parallax-mousemove]");if(e){var t=function(t){e.forEach((function(e){var _=e.dataset.parallaxMousemove,r=(window.innerWidth-t.pageX*_)/90,o=(window.innerHeight-t.pageY*_)/90;gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(e,{duration:.2,x:"".concat(r,"px"),y:"".concat(o,"px")})}))};if(window.innerWidth<=900)return!1;window.addEventListener("mousemove",t),window.addEventListener("unmount",(function(){window.removeEventListener("mousemove",t)}))}}},{key:"textareaResize",value:function(){document.addEventListener("input",(function(e){"textarea"===e.target.tagName.toLowerCase()&&function(e){e.style.height="inherit";var t=window.getComputedStyle(e),_=Number.parseInt(t.getPropertyValue("border-top-width"),10)+e.scrollHeight+Number.parseInt(t.getPropertyValue("border-bottom-width"),10);e.style.height="".concat(_,"px")}(e.target)}))}},{key:"player",value:function(){var e=document.querySelectorAll(".js-player");e&&e.forEach((function(e){var t=e.querySelector("video");if(t){var _=document.createElement("div");_.classList.add("controls"),e.append(_);var r=document.createElement("a");r.classList.add("play-pause"),_.append(r);var o=document.createElement("div");o.classList.add("progress"),_.append(o);var a=document.createElement("div");a.classList.add("bar"),o.append(a);var n=document.createElement("a");n.classList.add("sound"),_.append(n);var i=document.createElement("a");i.classList.add("fullscreen"),_.append(i);var l=e.querySelector("[data-trigger-player]");l&&l.addEventListener("click",(function(e){e.preventDefault(),t.play()})),r.addEventListener("click",(function(e){e.preventDefault(),t.paused?t.play():t.pause()})),o.addEventListener("click",(function(e){var _=o.getBoundingClientRect(),r=(e.clientX-_.x)/_.width;t.currentTime=r*t.duration})),t.addEventListener("click",(function(){t.paused?t.play():t.pause()})),i.addEventListener("click",(function(e){e.preventDefault(),t.fullscreenElement?t.exitFullscreen&&t.exitFullscreen():t.requestFullscreen()})),n.addEventListener("click",(function(_){_.preventDefault(),t.muted?(t.muted=!1,e.classList.remove("soundoff")):(t.muted=!0,e.classList.add("soundoff"))})),e.addEventListener("mouseenter",(function(){e.classList.add("is-mouseenter")})),e.addEventListener("mouseleave",(function(){e.classList.remove("is-mouseenter")})),t.addEventListener("playing",(function(){e.classList.add("is-playing")})),t.addEventListener("pause",(function(){e.classList.remove("is-playing")})),t.addEventListener("timeupdate",(function(){gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(a,{width:"".concat(t.currentTime/t.duration*100,"%")})}))}}))}},{key:"gallery",value:function(){var e=document.querySelectorAll(".gallery");e&&e.forEach((function(e){new(flickity__WEBPACK_IMPORTED_MODULE_10___default())(e,{contain:!0,cellAlign:"left",pageDots:!1,cellSelector:"figure",on:{ready:function(){var t=e.querySelectorAll(".flickity-prev-next-button");if(t){var _=document.createElement("div");_.classList.add("flickity-buttons"),e.append(_),t.forEach((function(e){return _.append(e)}))}},dragStart:function(){var e=this.element.querySelectorAll("video");e&&e.forEach((function(e){e.pause(),e.style.pointerEvents="none"}))},dragEnd:function(){var e=this.element.querySelectorAll("video");e&&e.forEach((function(e){e.style.pointerEvents="auto"}))},change:function(t){var _=e.parentNode.querySelector(".gallery-counter");_&&(_.querySelector(".val").innerHTML=t+1);var r=e.querySelectorAll("video");r&&r.forEach((function(e){e.pause()}))}}})}))}},{key:"galleryVideo",value:function(){var e=this,t=document.querySelectorAll(".gallery-videos");t&&t.forEach((function(e){var t=e.querySelector(".fixed-scroll");t&&window.addEventListener("scroll",(function(){var _=e.getBoundingClientRect();Math.abs(_.top)>=1.2*window.innerHeight?gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(t,{autoAlpha:0}):gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(t,{autoAlpha:1})}))}));var _=document.querySelectorAll("[data-gallery-video]");_&&_.forEach((function(t){var _=document.querySelector("#".concat(t.dataset.galleryVideo));if(_){var r=_.querySelectorAll("figure"),o=_.querySelector(".videos"),a=_.querySelector(".preview"),n=_.querySelector(".counter"),i=0,l=_.querySelector(".trigger-close-gallery"),s=_.querySelector(".trigger-next-gallery"),c=_.querySelector(".trigger-prev-gallery");if(r.length>1){var u=function(e){if(e!=i){if(r[i]){var t=r[i].querySelector("video");t&&t.pause(),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(r[i],{autoAlpha:0,duration:.4})}var _=r[e].querySelector("video");gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(r[e],{autoAlpha:1,duration:.4,onComplete:function(){_.muted=!1,_.play()}}),n&&(n.querySelector(".val").innerHTML=e+1),i=e}};c&&c.addEventListener("click",(function(e){e.preventDefault();var t=0==i?r.length-1:i-1;u(t)})),s&&s.addEventListener("click",(function(e){e.preventDefault();var t=i==r.length-1?0:i+1;u(t)}))}var d=gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.timeline({paused:!0,onStart:function(){setTimeout((function(){HTML.classList.add("show-gallery")}),400)},onComplete:function(){}});t.timeline=d,l.addEventListener("click",(function(_){_.preventDefault(),HTML.classList.remove("show-gallery","no-scroll"),t.timeline.reverse(),e.scroll.start();var o=r[i].querySelector("video");o&&(o.muted=!0,o.play())})),window.addEventListener("resize",(function(){t.timeline&&t.timeline.kill();var e=_.querySelector(".trigger-video a"),n=_.querySelector(".content");n&&(d.to(e,{duration:.4,autoAlpha:0},"start"),d.to(n.querySelectorAll(".move"),{duration:.4,autoAlpha:0,y:"-3rem",stagger:.05},"start").to(_.querySelector(".scroll-down .inner"),{autoAlpha:0,duration:.3},"start")),d.to(a,{autoAlpha:0,duration:.5},"start");var l=_.querySelector(".overlay"),s=r[i].querySelector("video"),c=s.dataset.width,u=s.dataset.height,E=c/u,p=window.innerWidth/window.innerHeight;E<=p?window.innerHeight:window.innerWidth,E<=p?window.innerHeight:window.innerWidth;d.to(o,{duration:.4,autoAlpha:1,ease:"power2.in",onComplete:function(){var e=r[i].querySelector("video");e&&(e.muted=!1,e.play())}},"end"),d.to(l,{autoAlpha:0,duration:.3},"end")})),window.dispatchEvent(new Event("resize")),t.addEventListener("click",(function(o){if(o.preventDefault(),window.innerWidth<768){var a=r[i].querySelector("video");a&&(a.muted=!1,a.play())}else HTML.classList.add("no-scroll"),e.scroll.scrollTo(_),e.scroll.stop(),t.timeline.play()}))}}))}},{key:"works",value:function(){var e=this,t=document.querySelectorAll(".works");t&&t.forEach((function(t){var _=t.querySelector(".freescroll"),r=(t.querySelectorAll(".item"),t.querySelector(".filter")),o=t.querySelector(".word-bg"),a=flickity__WEBPACK_IMPORTED_MODULE_10___default().data(_);function n(e){e&&e.forEach((function(e){var t=e.closest(".item");t&&(e.addEventListener("mouseenter",(function(){t.classList.add("hover")})),e.addEventListener("mouseleave",(function(){t.classList.remove("hover")})))}))}window.dispatchEvent(new Event("resize")),n(t.querySelectorAll(".item a"));var i=t.querySelectorAll("[data-filter-toggle]");function l(){if(r){var e=r.querySelector(".cursor");if(e){var t=r.querySelector(".active");if(t){var _=r.getBoundingClientRect(),o=t.closest("li").getBoundingClientRect();gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(e,{opacity:1,height:"".concat(o.height,"px")}),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(e,{ease:"circ.inOut",duration:.4,width:"".concat(o.width,"px"),x:"".concat(o.x-_.x,"px")})}}}}i&&i.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),HTML.classList.toggle("open-filter")}))})),window.addEventListener("resize",l),l(),function i(s){s&&s.forEach((function(s){s.addEventListener("click",(function(c){c.preventDefault(),c.stopPropagation(),HTML.classList.remove("open-filter"),t.classList.add("no-transition");var u=r.querySelector(".active");if(u&&u.classList.remove("active"),"type"==s.dataset.taxonomy)s.classList.add("active");else{var d=r.querySelectorAll("[data-filter]");d&&d[0].classList.add("active")}l();var E=!1;gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to([t.querySelectorAll(".item-parent"),o],{left:"-5rem",autoAlpha:0,stagger:.05,ease:"circ.in",duration:.5,onComplete:function(){a?a.remove(_.querySelectorAll(".flickity-cell")):_.innerHTML="",E=!0}});var p=t.querySelector("h1");p&&(p.innerHTML=s.getAttribute("title"));var f=s.dataset.filter;f&&axios__WEBPACK_IMPORTED_MODULE_13___default().get(f).then((function(t){if(t.data){var r=document.createElement("html");r.innerHTML=t.data;var l=r.querySelector(".freescroll"),s=l.children;if(s){var c=0;c=setInterval((function(){if(E){clearInterval(c),a?(a.x=0,a.append(s),a.select(0)):_.innerHTML+=l.innerHTML,e.parallaxMouseMove(),e.lazyload.update(),n(_.querySelectorAll(".item")),e.allLinks(),i(_.querySelectorAll("[data-filter]"));var t=r.querySelector(".word-bg");t&&(o.innerHTML=t.innerHTML),e.inViewport(),gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.fromTo([_.children,o],{autoAlpha:0,x:"5rem"},{x:"0rem",autoAlpha:1,duration:.5,ease:"circ.out",stagger:.06})}}),100)}}}))}))}))}(t.querySelectorAll("[data-filter]"))}))}},{key:"inViewport",value:function(){in_view__WEBPACK_IMPORTED_MODULE_9___default().offset(.15*window.innerHeight),in_view__WEBPACK_IMPORTED_MODULE_9___default()(".js-reveal:not(.is-visible)").on("enter",(function(e){e.dispatchEvent(new Event("inview")),e.classList.add("is-visible"),e.classList.remove("not-visible");var t=e.querySelector("video");if("VIDEO"===e.tagName&&""!==e.dataset.autoplay&&void 0!==e.dataset.autoplay||t&&""!==t.dataset.autoplay&&void 0!==t.dataset.autoplay){var _=t||e,r=_.play();null!==r&&r.catch((function(){_.play()}))}})).on("exit",(function(e){var t=e.querySelector("video");("VIDEO"===e.tagName&&""!==e.dataset.autoplay&&void 0!==e.dataset.autoplay||t&&""!==t.dataset.autoplay&&void 0!==t.dataset.autoplay)&&(t||e).pause();e.dispatchEvent(new Event("outview")),e.classList.add("not-visible")}))}},{key:"horizonthalScroll",value:function(){window.addEventListener("scroll",gsap_ScrollTrigger__WEBPACK_IMPORTED_MODULE_16__.Z.update),document.querySelectorAll(".horizontal-scroll").forEach((function(e){var t=e.querySelector(".pin-wrap"),_=t.offsetWidth,r=_-window.innerWidth;gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.to(t,{scrollTrigger:{scrub:!0,trigger:e,pin:!0,start:"top top",end:function(){return"+=".concat(_)},invalidateOnRefresh:!0},x:-r,ease:"none"})})),gsap_ScrollTrigger__WEBPACK_IMPORTED_MODULE_16__.Z.refresh()}},{key:"freescroll",value:function(){var e=document.querySelectorAll(".freescroll");return e&&e.forEach((function(e){var t=null;function _(){HTML.classList.add("no-scroll");var _=e.closest(".works"),r=_.querySelector(".counter"),o=r.querySelector(".progress .bar"),a=_.querySelector(".word-bg");t=new(flickity__WEBPACK_IMPORTED_MODULE_10___default())(e,{freeScroll:!0,cellAlign:"left",prevNextButtons:!1,pageDots:!1,contain:!0,on:{change:function(){r&&(r.querySelector(".total").innerHTML=this.cells.length)},dragStart:function(){var e=this.element.querySelectorAll("a");e&&e.forEach((function(e){e.style.pointerEvents="none"}))},dragEnd:function(){var e=this.element.querySelectorAll("a");e&&e.forEach((function(e){e.style.pointerEvents="auto"}))},scroll:function(t){var r=e.querySelectorAll("[data-speed-x]");r&&r.forEach((function(e){var t=e.getBoundingClientRect();if(t.x>=-t.width&&t.right>0&&t.right-t.width<=window.innerWidth){var _=Number.parseFloat(e.dataset.speedX),r=t.x/window.innerWidth;gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(e,{x:"".concat(t.width*r*_,"px")})}})),_.classList.add("is-visible");var n=(this.size.width+-this.x)/this.slideableWidth;o&&gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(o,{width:"".concat(100*n,"%")}),a&&gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(a,{x:"".concat(.01*window.innerWidth*-t,"%")})}}}),e.addEventListener("reinit",(function(){var t=flickity__WEBPACK_IMPORTED_MODULE_10___default().data(e);function _(e){e.deltaY&&!HTML.classList.contains("no-event")&&t.slideableWidth>t.size.width&&(t.x-=.75*e.deltaY,t.x>0||Math.abs(t.x)>t.slideableWidth-window.innerWidth?(t.x=t.x>0?0:-1*(t.slideableWidth-window.innerWidth),t.settle(t.x)):t.settle(t.x))}e.removeEventListener("wheel",_),e.addEventListener("wheel",_,{passive:!1}),e.addEventListener("unmount",(function(){e.removeEventListener("wheel",_)}))})),e.dispatchEvent(new Event("reinit"))}window.addEventListener("resize",(function(){if(null!=t&&window.innerWidth<1024){e.dispatchEvent(new Event("unmount")),t.destroy(),t=null,HTML.classList.remove("no-scroll");var r=e.querySelectorAll("[data-speed-x]");r&&gsap__WEBPACK_IMPORTED_MODULE_15__.ZP.set(r,{x:0})}else null==t&&window.innerWidth>1024&&_()})),window.innerWidth<1024?e.closest(".works").classList.add("is-visible"):_()})),this}}]),App}(),app=null;window.addEventListener("DOMContentLoaded",(function(){app=new App})),window.addEventListener("load",(function(){window.dispatchEvent(new Event("is-loaded"))}))}},function(e){e.O(0,[216],(function(){return t=8298,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=app.js.map